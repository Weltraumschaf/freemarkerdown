<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2014-11-15
 | Rendered using Apache Maven Fluido Skin 1.3.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20141115" />
    <meta http-equiv="Content-Language" content="en" />
    <title>FreemarkerDown &#x2013; Examples</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.3.0.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.3.0.min.js"></script>

                          
        
<link rel="stylesheet" href="./css/mono-blue.css"/>
                      
        
<script src="./js/highlight.js" type="text/javascript"></script>
                      
        
<script type="text/javascript">$(document).ready(function() {
                    $('.source pre').each(function(i, block) {
                        hljs.highlightBlock(block);
                    });
                });</script>
          
            </head>
        <body class="topBarDisabled">
          
    
    
            
    
        
    <a href="http://github.com/Weltraumschaf/freemarkerdown">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"
        alt="Fork me on GitHub">
    </a>
  
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                                  <a href="index.html" id="bannerLeft" title="FreeMarkerDown">
                <h2>FreeMarkerDown</h2>
                </a>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">Last Published: 2014-11-15</li>
                  <li class="divider">|</li> <li id="projectVersion">Version: 1.0.0-alpha</li>
                          <li class="divider">|</li>             <li class="">
                    <a href="http://www.weltraumschaf.de" class="externalLink" title="Weltraumschaf">
        Weltraumschaf</a>
        </li>
      <li class="divider ">/</li>
                <li class="">
                    <a href="./" title="FreemarkerDown">
        FreemarkerDown</a>
        </li>
      <li class="divider ">/</li>
        <li class="">Examples</li>
                
                
                    
      
                            </ul>
      </div>

                  
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">FreeMarkerDown</li>
                                
      <li>
    
                          <a href="index.html" title="Home">
          <i class="none"></i>
        Home</a>
            </li>
                  
      <li class="active">
    
            <a href="#"><i class="none"></i>Examples</a>
          </li>
                  
      <li>
    
                          <a href="architecture.html" title="Architecture">
          <i class="none"></i>
        Architecture</a>
            </li>
                  
      <li>
    
                          <a href="versions.html" title="Versions">
          <i class="none"></i>
        Versions</a>
            </li>
                              <li class="nav-header">Reports</li>
                                                                                                                                                                                                                
      <li>
    
                          <a href="project-info.html" title="Project Information">
          <i class="icon-chevron-right"></i>
        Project Information</a>
                  </li>
                                                                                      
      <li>
    
                          <a href="project-reports.html" title="Project Reports">
          <i class="icon-chevron-right"></i>
        Project Reports</a>
                  </li>
            </ul>
                
                    
                
          <hr class="divider" />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                        
        <div id="bodyColumn"  class="span9" >
                                  
            <h1>Examples</h1>
<div class="section">
<h2><a name="Render_Single_Fragment_with_Markdown"></a>Render Single Fragment with Markdown</h2>
<p>This is an example to render a template from string:</p>

<div class="source">
<div class="source">
<pre>        final FreeMarkerDown fmd = FreeMarkerDown.create();
        final Fragment template = fmd.createFragemnt(
                &quot;# A Title\n&quot;
                + &quot;\n&quot;
                + &quot;Lorem ipsum dolor sit amet.\n&quot;
                + &quot;\n&quot;
                + &quot;## A List\n&quot;
                + &quot;\n&quot;
                + &quot;&lt;#list sequence as item&gt;\n&quot;
                + &quot;- ${item}\n&quot;
                + &quot;&lt;/#list&gt;&quot;);
        template.assignVariable(&quot;sequence&quot;, Arrays.asList(&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;));
        assertThat(fmd.render(template), is(
                &quot;&lt;h1&gt;A Title&lt;/h1&gt;&quot;
                + &quot;&lt;p&gt;Lorem ipsum dolor sit amet.&lt;/p&gt;&quot;
                + &quot;&lt;h2&gt;A List&lt;/h2&gt;\n&quot;
                + &quot;&lt;ul&gt;\n&quot;
                + &quot;  &lt;li&gt;foo&lt;/li&gt;\n&quot;
                + &quot;  &lt;li&gt;bar&lt;/li&gt;\n&quot;
                + &quot;  &lt;li&gt;baz&lt;/li&gt;\n&quot;
                + &quot;&lt;/ul&gt;&quot;));
</pre></div></div>
<p>This is an example to render a template from file:</p>

<div class="source">
<div class="source">
<pre>        final FreeMarkerDown fmd = FreeMarkerDown.create();
        final URI file = getClass()
                .getResource(&quot;renderSingleFragmentwithMarkdownFromFileTemplate.md.ftl&quot;)
                .toURI();
        final Fragment template = fmd.createFragemnt(Paths.get(file));
        template.assignVariable(&quot;sequence&quot;, Arrays.asList(&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;));
        assertThat(fmd.render(template), is(
                &quot;&lt;h1&gt;A Title&lt;/h1&gt;&quot;
                + &quot;&lt;p&gt;Lorem ipsum dolor sit amet.&lt;/p&gt;&quot;
                + &quot;&lt;h2&gt;A List&lt;/h2&gt;\n&quot;
                + &quot;&lt;ul&gt;\n&quot;
                + &quot;  &lt;li&gt;foo&lt;/li&gt;\n&quot;
                + &quot;  &lt;li&gt;bar&lt;/li&gt;\n&quot;
                + &quot;  &lt;li&gt;baz&lt;/li&gt;\n&quot;
                + &quot;&lt;/ul&gt;&quot;));
</pre></div></div></div>
<div class="section">
<h2><a name="Render_Layout_with_Fragments_and_Markdown"></a>Render Layout with Fragments and Markdown</h2>
<p>This is an example to render a templates from strings:</p>

<div class="source">
<div class="source">
<pre>        final FreeMarkerDown fmd = FreeMarkerDown.create();
        final Layout layout = fmd.createLayout(
                &quot;# A Title\n&quot;
                + &quot;\n&quot;
                + &quot;Lorem ipsum dolor sit amet.\n&quot;
                + &quot;\n&quot;
                + &quot;## A List\n&quot;
                + &quot;\n&quot;
                + &quot;&lt;#list sequence as item&gt;\n&quot;
                + &quot;- ${item}\n&quot;
                + &quot;&lt;/#list&gt;\n&quot;
                + &quot;\n&quot;
                + &quot;${fragment}&quot;);
        layout.assignVariable(&quot;sequence&quot;, Arrays.asList(&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;));
        final Fragment fragment = fmd.createFragemnt(&quot;This is ${foo}.&quot;);
        fragment.assignVariable(&quot;foo&quot;, &quot;bar&quot;);
        layout.assignTemplateModel(&quot;fragment&quot;, fragment);
        assertThat(fmd.render(layout), is(
                &quot;&lt;h1&gt;A Title&lt;/h1&gt;&quot;
                + &quot;&lt;p&gt;Lorem ipsum dolor sit amet.&lt;/p&gt;&quot;
                + &quot;&lt;h2&gt;A List&lt;/h2&gt;\n&quot;
                + &quot;&lt;ul&gt;\n&quot;
                + &quot;  &lt;li&gt;foo&lt;/li&gt;\n&quot;
                + &quot;  &lt;li&gt;bar&lt;/li&gt;\n&quot;
                + &quot;  &lt;li&gt;baz&lt;/li&gt;\n&quot;
                + &quot;&lt;/ul&gt;&quot;
                + &quot;&lt;p&gt;This is bar.&lt;/p&gt;&quot;));
</pre></div></div>
<p>This is an example to render a templates from files:</p>

<div class="source">
<div class="source">
<pre>        final FreeMarkerDown fmd = FreeMarkerDown.create();
        final URI fileLayout = getClass()
                .getResource(&quot;renderLayoutwithFragmentsandMarkdownFromStringTemplate_layout.md.ftl&quot;)
                .toURI();
        final Layout layout = fmd.createLayout(Paths.get(fileLayout));
        layout.assignVariable(&quot;sequence&quot;, Arrays.asList(&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;));
        final URI fileFragment = getClass()
                .getResource(&quot;renderLayoutwithFragmentsandMarkdownFromStringTemplate_fragment.md.ftl&quot;)
                .toURI();
        final Fragment fragment = fmd.createFragemnt(Paths.get(fileFragment));
        fragment.assignVariable(&quot;foo&quot;, &quot;bar&quot;);
        layout.assignTemplateModel(&quot;fragment&quot;, fragment);
        assertThat(fmd.render(layout), is(
                &quot;&lt;h1&gt;A Title&lt;/h1&gt;&quot;
                + &quot;&lt;p&gt;Lorem ipsum dolor sit amet.&lt;/p&gt;&quot;
                + &quot;&lt;h2&gt;A List&lt;/h2&gt;\n&quot;
                + &quot;&lt;ul&gt;\n&quot;
                + &quot;  &lt;li&gt;foo&lt;/li&gt;\n&quot;
                + &quot;  &lt;li&gt;bar&lt;/li&gt;\n&quot;
                + &quot;  &lt;li&gt;baz&lt;/li&gt;\n&quot;
                + &quot;&lt;/ul&gt;&quot;
                + &quot;&lt;p&gt;This is bar.&lt;/p&gt;&quot;));
</pre></div></div></div>
<div class="section">
<h2><a name="Render_Without_Markdown"></a>Render Without Markdown</h2>
<p>This example shows how to suppress the Markdown processing.</p>

<div class="source">
<div class="source">
<pre>        final FreeMarkerDown fmd = FreeMarkerDown.create();
        final Fragment template = fmd.createFragemnt(
                &quot;# A Title\n&quot;
                + &quot;\n&quot;
                + &quot;Lorem ipsum dolor sit amet.\n&quot;
                + &quot;\n&quot;
                + &quot;## A List\n&quot;
                + &quot;\n&quot;
                + &quot;&lt;#list sequence as item&gt;\n&quot;
                + &quot;- ${item}\n&quot;
                + &quot;&lt;/#list&gt;&quot;);
        template.assignVariable(&quot;sequence&quot;, Arrays.asList(&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;));
        assertThat(fmd.render(template, Options.WITHOUT_MARKDOWN), is(
                &quot;# A Title\n&quot;
                + &quot;\n&quot;
                + &quot;Lorem ipsum dolor sit amet.\n&quot;
                + &quot;\n&quot;
                + &quot;## A List\n&quot;
                + &quot;\n&quot;
                + &quot;- foo\n&quot;
                + &quot;- bar\n&quot;
                + &quot;- baz\n&quot;));
</pre></div></div></div>
<div class="section">
<h2><a name="Render_With_Preprocessor"></a>Render With Preprocessor</h2>
<p>This example shows how to use preprocessors. The used key value preprocessor is part of FreeMarkerDown by default.</p>

<div class="source">
<div class="source">
<pre>        final FreeMarkerDown fmd = FreeMarkerDown.create();
        final Fragment template = fmd.createFragemnt(
                &quot;# A Title\n&quot;
                + &quot;\n&quot;
                + &quot;&lt;?fdm-keyvalue\n&quot;
                + &quot;    key1: value one\n&quot;
                + &quot;    key2: 42\n&quot;
                + &quot;?&gt;\n&quot;
                + &quot;\n&quot;
                + &quot;Lorem ipsum dolor sit amet.\n&quot;);
        final Map&lt;String, String&gt; keyValues = Maps.newHashMap();
        final PreProcessor processor = PreProcessors.createKeyValueProcessor(keyValues);
        fmd.register(processor);
        assertThat(fmd.render(template), is(
                &quot;&lt;h1&gt;A Title&lt;/h1&gt;&quot;
                + &quot;&lt;p&gt;Lorem ipsum dolor sit amet.&lt;/p&gt;&quot;));
        assertThat(keyValues.size(), is(2));
        assertThat(keyValues, allOf(hasEntry(&quot;key1&quot;, &quot;value one&quot;), hasEntry(&quot;key2&quot;, &quot;42&quot;)));
        if (processor.hasWarnings()) {
            for (final String warning : processor.getWarnings()) {
                // Handle warning ...
            }
        }
</pre></div></div></div>
<div class="section">
<h2><a name="Layout_Propagates_Variables"></a>Layout Propagates Variables</h2>
<p>Template variables assigned to a layout are propagated to all subsequent assigned template models. It does not matter if you assign the model before or after assigning variables. They will be propagated anyway.</p>

<div class="source">
<div class="source">
<pre>        final FreeMarkerDown fmd = FreeMarkerDown.create();
        final Layout layout = fmd.createLayout(
                &quot;# A Title\n&quot;
                + &quot;\n&quot;
                + &quot;Lorem ipsum dolor sit amet.\n&quot;
                + &quot;\n&quot;
                + &quot;${fragment}&quot;);
        layout.assignVariable(&quot;sequence&quot;, Arrays.asList(&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;));
        final Fragment fragment = fmd.createFragemnt(
                &quot;## A List\n&quot;
                + &quot;\n&quot;
                + &quot;&lt;#list sequence as item&gt;\n&quot;
                + &quot;- ${item}\n&quot;
                + &quot;&lt;/#list&gt;\n&quot;
                + &quot;\n&quot;);
        layout.assignTemplateModel(&quot;fragment&quot;, fragment);
        assertThat(fmd.render(layout), is(
                &quot;&lt;h1&gt;A Title&lt;/h1&gt;&quot;
                + &quot;&lt;p&gt;Lorem ipsum dolor sit amet.&lt;/p&gt;&quot;
                + &quot;&lt;h2&gt;A List&lt;/h2&gt;\n&quot;
                + &quot;&lt;ul&gt;\n&quot;
                + &quot;  &lt;li&gt;foo&lt;/li&gt;\n&quot;
                + &quot;  &lt;li&gt;bar&lt;/li&gt;\n&quot;
                + &quot;  &lt;li&gt;baz&lt;/li&gt;\n&quot;
                + &quot;&lt;/ul&gt;&quot;));
</pre></div></div></div>
<div class="section">
<h2><a name="Handling_Template_Errors"></a>Handling Template Errors</h2>
<p>Except the standard Java exceptions (IOExceptio etc.) no checked exceptions will be thrown. The Checked template exception from FreeMarker is wrapped into an unchecked template error. This does not clutter the code with &#x201c;throws&#x201d;, but gives you the responsibility to ensure that templates will render in all circumstances or catch them at appropriate position.</p>

<div class="source">
<div class="source">
<pre>        final FreeMarkerDown fmd = FreeMarkerDown.create();
        final Fragment fragment = fmd.createFragemnt(&quot;Lorem ipsum dolor: ${foo}&quot;);
        try {
            fmd.render(fragment);
        } catch (final TemplateError err) {
            assertThat(err.getMessage(), is(
                    &quot;The following has evaluated to null or missing:\n&quot;
                    + &quot;==&gt; foo  [in template \&quot;\&quot; at line 1, column 22]\n&quot;
                    + &quot;\n&quot;
                    + &quot;----\n&quot;
                    + &quot;Tip: If the failing expression is known to be legally refer to &quot;
                    + &quot;something that's null or missing, either specify a default value &quot;
                    + &quot;like myOptionalVar!myDefault, or use &lt;#if myOptionalVar??&gt;&quot;
                    + &quot;when-present&lt;#else&gt;when-missing&lt;/#if&gt;. (These only cover the last &quot;
                    + &quot;step of the expression; to cover the whole expression, use parenthesis: &quot;
                    + &quot;(myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??\n&quot;
                    + &quot;----\n&quot;
                    + &quot;\n&quot;
                    + &quot;----\n&quot;
                    + &quot;FTL stack trace (\&quot;~\&quot; means nesting-related):\n\t- Failed at: ${foo}  &quot;
                    + &quot;[in template \&quot;\&quot; at line 1, column 20]\n&quot;
                    + &quot;----&quot;));
        }
</pre></div></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
              <div class="row span12">Copyright &copy;                    2014
                        <a href="http://www.weltraumschaf.de">Weltraumschaf</a>.
            All Rights Reserved.      
                    
      </div>

        
        
                </div>
    </footer>
  </body>
</html>
